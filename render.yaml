services:
  - type: worker
    name: cryptobot
    env: python
    plan: free
    
    buildCommand: "pip install -r requirements.txt && playwright install"
    startCommand: "python -m bot.main"
    
    envVars:
      - key: PYTHON_VERSION
        value: '3.11.5'
      - key: BOT_TOKEN
        fromSecret: true
      - key: REDIS_URL
        fromSecret: true
      - key: ADMIN_CHAT_ID
        fromSecret: true
      - key: NEWS_CHAT_ID
        fromSecret: true
      - key: CMC_API_KEY
        fromSecret: true
      - key: OPENAI_API_KEY
        fromSecret: true